/*!ðŸ’œI love you monad.*/
var S_ITER$0="undefined"!=typeof Symbol&&Symbol&&Symbol.iterator||"@@iterator",S_MARK$0="undefined"!=typeof Symbol&&Symbol&&Symbol.__setObjectSetter__;function GET_ITER$0(e){if(e){if(Array.isArray(e))return 0;var t;if(S_MARK$0&&S_MARK$0(e),"object"==typeof e&&"function"==typeof(t=e[S_ITER$0]))return S_MARK$0&&S_MARK$0(void 0),t.call(e);if(S_MARK$0&&S_MARK$0(void 0),e+""=="[object Generator]")return e}throw new Error(e+" is not iterable")}var this$0=this,$=document.querySelector.bind(document),$$=document.querySelectorAll.bind(document),NProgress=window.NProgress,createThumbs=window.createThumbs,debounce=window.debounce,fetch=window.fetch,Fullscreen=window.Fullscreen,getL=window.getL,getSize=window.getSize,loadImage=window.loadImage;function detectIEEdge(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var o=e.indexOf("Edge/");return o>0&&parseInt(e.substring(o+5,e.indexOf(".",o)),10)}createThumbs=function(e){var t,n,o,r,i="";for(n=(o=0===(t=GET_ITER$0(e)))?e.length:void 0;o?t<n:!(n=t.next()).done;){r=o?e[t++]:n.value;var a=Object.keys(e).indexOf(r);0!==a&&(i+=r.url+"\t"+r.width+"w"+(a!==e?",\n":""))}return t=n=o=void 0,i};var waitForElement=function(e){return new Promise((function(t,n){var o=document.querySelector(e);if(o)t(o);else{var r=new MutationObserver((function(n){n.forEach((function(n){var o,i,a,s,l=Array.from(n.addedNodes);for(i=(a=0===(o=GET_ITER$0(l)))?l.length:void 0;a?o<i:!(i=o.next()).done;)if((s=a?l[o++]:i.value).matches&&s.matches(e))return r.disconnect(),void t(s);o=i=a=void 0}))}));r.observe(document.documentElement,{childList:!0,subtree:!0})}}))};if(getSize=function(){var e,t,n,o,r;for(t=(n=0===(e=GET_ITER$0(o=$$("size-indicators>size-indicator"))))?o.length:void 0;n?e<t:!(t=e.next()).done;)if(r=n?o[e++]:t.value,"flex"===getComputedStyle(r).display)return r.classList[0].split("-")[1].replace("flex","xs");e=t=n=o=void 0},loadImage=function(e){return new Promise((function(t){var n=new Image;n.onload=function(){return t(n)},n.src=e}))},detectIEEdge()){var LLegacy=((navigator.language||navigator.userLanguage).indexOf("-")?(navigator.language||navigator.userLanguage).split("-")[0]:navigator.language||navigator.userLanguage).toLowerCase()||"en",host=void 0;host=-1===location.host.indexOf("glitch.me")?location.protocol+"//"+LLegacy+"."+location.hostname:location.protocol+"//"+location.hostname,location.replace(host+"/outdated-browser.html")}debounce=function(e,t,n){var o;return function(){var r=this$0,i=r.arguments,a=n&&!o;clearTimeout(o),o=setTimeout((function(){o=null,n||e.apply(r,i)}),t),a&&e.apply(r,i)}},getL=function(){var e=navigator.language||navigator.userLanguage;return e.includes("-")&&(e=e.split("-")[0]),e.toLowerCase()||"en"},NProgress.configure({showSpinner:!1});var ofetch=window.fetch;fetch=function(e,t){return(void 0===t||t.silent||$("#nprogress"))&&NProgress.start(),ofetch(e,t).then((function(e){return(void 0===t||t.silent||$("#nprogress"))&&NProgress.done(),e}))},Fullscreen={enter:function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},exit:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}},HTMLElement.prototype.onEvent=function(e,t,n){return this$0.addEventListener(e,t,n),this$0.myListeners||(this$0.myListeners=[]),this$0.myListeners.push({eType:e,callBack:t}),this$0},HTMLElement.prototype.removeListeners=function(){if(this$0.myListeners){for(var e=0;e<this$0.myListeners.length;e++)this$0.removeEventListener(this$0.myListeners[e].eType,this$0.myListeners[e].callBack);delete this$0.myListeners}};var that={};that.isOpera=!!window.opr&&!!window.opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,that.isFirefox=void 0!==window.InstallTrigger,that.isSafari=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||void 0!==window.safari&&window.safari.pushNotification).toString(),that.isIE=!!document.documentMode,that.isEdge=!that.isIE&&!!window.StyleMedia,that.isChrome=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime),that.isEdgeChromium=that.isChrome&&-1!=navigator.userAgent.indexOf("Edg"),that.isBlink=(that.isChrome||that.isOpera)&&!!window.CSS,window.Browser=that,(speed={_i:0,_arrTimes:[],doTest:function(){var e=this,t=(String.fromCharCode(12448+96*Math.random()),new Image),n=(new Date).getTime();if(this._i<e.config.times)e._i++,console.debug("Test "+this._i+" of "+e.config.times+"..."),t.src=e.config.image+"?t="+n,t.onload=function(){var o=(new Date).getTime()-n;e._arrTimes[e._i]=o,e.doTest(),t=null};else{var o=this._arrTimes.reduce((function(e,t){return e+t}))/this._arrTimes.length;this.setResult(o)}},setResult:function(e,t){var n=this;t||(e>=250&&(t="slow"),e>=150&&e<=250&&(t="medium"),e<=150&&(t="fast")),e&&e.toFixed(2),this.speed=t,console.debug("Test done:"),console.debug({avg:e,speed:t}),console.debug("\n"),n._i=0,n._arrTimes=[],n._loop&&setTimeout((function(){console.debug("Testing..."),n.doTest()}),n.config.interval)},stopLoop:function(){return this._loop=!1,"loop stopped"},startLoop:function(){console.debug("Testing..."),this._loop=!0,this._i=0;navigator.connection||navigator.mozConnection||navigator.webkitConnection;return this._i=0,this.doTest((function(e){this.setResult(e)})),"loop started"},config:{image:"//blubbll.b-cdn.net/speed.jpg",times:3,interval:6e4}}).startLoop();var autocomplete=window.autocomplete,alert=window.alert,done=(createThumbs=window.createThumbs,debounce=window.debounce,window.done),HOST=(fetch=window.fetch,getL=window.getL,getSize=window.getSize,window.HOST),REGION=window.REGION,load=window.load,moment=window.moment,speed=window.speed,T=window.T,afterglow=window.afterglow,Browser=window.Browser,Player=(Fullscreen=window.Fullscreen,waitForElement=window.waitForElement,$=document.querySelector.bind(document),$$=document.querySelectorAll.bind(document),window.Player);Player={open:function(){$("#view-inner").insertAdjacentHTML("beforeend",T.PLAYER),$("#view-inner").classList.remove("wait"),$("#filters").style.setProperty("display","none","important"),$("#results").style.setProperty("display","none","important")},close:function(){$("#player").remove(),$("#filters").style.setProperty("display",""),$("#results").style.setProperty("display","")},openFromResult:function(e){$("#view-inner").classList.add("wait"),$("#results").classList.add("grow"),e.classList.add("growing"),setTimeout((function(){Player.play(e.getAttribute("video-id")),$("#results").classList.remove("grow"),e.classList.remove("growing")}),799)},play:function(e){Player.open(),afterglow.initVideoElements();var t=$("video"),n=$("audio");fetch(HOST+"/api/"+REGION+"/video/"+e).then((function(e){return e.text()})).then((function(e){var o,r,i,a,s="undefined"!=typeof Symbol&&Symbol&&Symbol.iterator||"@@iterator",l="undefined"!=typeof Symbol&&Symbol&&Symbol.__setObjectSetter__;var c=JSON.parse(e),d=c.title;$("poster>img").setAttribute("srcset",createThumbs(c.videoThumbnails));var u,f={low:c.formatStreams[0],AUDIOS:[],VIDEOS:[],CURRENTSTREAM:{}};for(r=(i=0===(o=function(e){if(e){if(Array.isArray(e))return 0;var t;if(l&&l(e),"object"==typeof e&&"function"==typeof(t=e[s]))return l&&l(void 0),t.call(e);if(l&&l(void 0),e+""=="[object Generator]")return e}throw new Error(e+" is not iterable")}(a=c.adaptiveFormats)))?a.length:void 0;i?o<r:!(r=o.next()).done;)(u=i?a[o++]:r.value).type.startsWith("video")&&f.VIDEOS.push(u),u.type.startsWith("audio")&&f.AUDIOS.push(u);switch(o=r=i=a=void 0,f.AUDIO=f.AUDIO.sort((function(e,t){return e.bitrate-t.bitrate})),f.VIDEO=f.VIDEO.sort((function(e,t){return e.bitrate-t.bitrate})),speed.speed){case"slow":f.CURRENTSTREAM.AUDIO=f.AUDIOS[0],f.CURRENTSTREAM.VIDEO=f.VIDEOS[0];break;case"medium":f.CURRENTSTREAM.AUDIO=f.AUDIOS[Math.floor(f.AUDIOS.length-.5)],f.CURRENTSTREAM.VIDEO=f.VIDEOS[Math.floor(f.VIDEOS.length-.5)];break;case"fast":f.CURRENTSTREAM.AUDIO=f.AUDIOS[f.AUDIOS.length-1],f.CURRENTSTREAM.VIDEO=f.VIDEOS[f.VIDEOS.length-1]}if(Browser.isFirefox||Browser.isChrome){console.log(c);var m=$("poster>img").currentSrc;$("video").outerHTML='<video autoplay preload="metadata" class="afterglow" height="0" width="0" poster="'+m+'"></video>',t=$("video"),n.src=f.CURRENTSTEAM.AUDIO,t.src=f.CURRENTSTREAM.VIDEO,afterglow.initVideoElements(),Object.defineProperty(t,"volume",{set:function(e){t._volume=e,n.volume=e},get:function(){return t._volume}}),Object.defineProperty(t,"muted",{set:function(e){t._muted=e,n.muted=e},get:function(){return t._muted}}),t._play=t.play,Object.defineProperty(t,"play",{get:function(){if(n.paused&&n.play(),n.paused){console.debug("muted"),$("#mep_0").insertAdjacentHTML("afterbegin","<lapis-muted></lapis-muted>");var e=$("lapis-muted");e.innerHTML="THE VIDEO IS MUTED. CLICK ME TO UNMUTE",e.style.display="flex",e.addEventListener("click",(function(){e.remove(),n.muted=!1,t.currentTime=0,n.play(),!n.muted&&!n.paused&&console.debug("unmuted.")}))}return t._play}}),t._pause=t.pause,Object.defineProperty(t,"pause",{get:function(){return n.pause(),t._pause}}),t.addEventListener("loadedmetadata",(function(e){console.log("loaded");try{t.play()}catch(e){console.warn(e)}$(".afterglow__controls").insertAdjacentHTML("afterbegin",'<div class="afterglow__title-bar">'+d+"</div>"),$(".afterglow__controls").insertAdjacentHTML("beforeend",'<div class="afterglow__control-bar"></div>');var n=function(){var t=e.target,n=$("lapis-player").getAttribute("ratio")||t.videoHeight/t.videoWidth;$("lapis-player").setAttribute("ratio",n),$("#mep_0").style.height=$("#mep_0").clientWidth*n+"px"};setTimeout(n,0),window.addEventListener("resize",n)}),!1),t.load();setInterval((function(){console.log(n.currentTime/t.currentTime),n.currentTime/t.currentTime>1.1&&(t.currentTime=n.currentTime)}),2999);void 0!==window.orientation&&(document.title=d,document.addEventListener("fullscreenchange",(function(){document.fullscreen||!t.pause||n.paused||n.pause()}),!1),t.addEventListener("play",(function(){n.play()})),t.addEventListener("pause",(function(){!n.paused&&n.pause()})),$(".afterglow__top-control-bar").innerHTML=$(".afterglow__top-control-bar").innerHTML,$(".afterglow__button.afterglow__fullscreen-toggle").addEventListener("click",(function(e){e.target;document.fullscreen?Fullscreen.exit():setTimeout((function(){$("#mep_0").classList.remove("afterglow__container"),Fullscreen.enter($("video"))}))})))}else{var w=$("video"),h=$("audio");document.title=d,h.addEventListener("play",(function(){w.paused&&w.play()})),h.addEventListener("pause",(function(){!w.paused&&w.pause()})),w.addEventListener("play",(function(){h.paused&&h.play()})),w.addEventListener("pause",(function(){!h.paused&&h.pause()})),$("video").outerHTML="<video preload controls playsinline></video>",$("video").src=f.LOW}}))}};$=document.querySelector.bind(document),$$=document.querySelectorAll.bind(document),autocomplete=window.autocomplete,alert=window.alert,createThumbs=window.createThumbs,debounce=window.debounce,done=window.done,fetch=window.fetch,getL=window.getL,getSize=window.getSize,HOST=window.HOST,REGION=window.REGION,load=window.load;var lazyload=window.lazyload,numeral=(moment=window.moment,window.numeral),setupSearch=(T=window.T,waitForElement=window.waitForElement,window.setupSearch),SEARCH=window.SEARCH;setupSearch=function(){var e="undefined"!=typeof Symbol&&Symbol&&Symbol.iterator||"@@iterator",t="undefined"!=typeof Symbol&&Symbol&&Symbol.__setObjectSetter__;$("#view-inner").innerHTML=T.RESULTS,SEARCH=function(n){var o=document.getElementById("results");if("true"!==o.getAttribute("search-active")){var r=+o.getAttribute("page")||0;switch(0===r?($("#view-inner").innerHTML=T.RESULTS,(o=document.getElementById("results")).setAttribute("state","search-fresh"),r=1):o.getAttribute("q")===n?(o.setAttribute("state","search-continue"),r+=1):($("#view-inner").innerHTML=T.RESULTS,(o=document.getElementById("results")).setAttribute("state","search-new"),r=1),o.setAttribute("search-active",!0),o.setAttribute("page",r),o.getAttribute("state")){case"search-fresh":console.log("Loading fresh results for query:",{q:n,"":"..."});break;case"search-new":console.log("Loading results for new query:",{q:n,"":"..."});break;case"search-continue":console.log("Loading continued results for query:",{q:n,page:r,"":"..."})}"search-continue"!==o.getAttribute("state")&&o.addEventListener("scroll",(function(e){var t=o;"true"!==o.getAttribute("search-active")&&t.scrollTop+t.clientHeight>=t.scrollHeight-t.scrollHeight/10&&SEARCH(t.getAttribute("q"))})),o.setAttribute("q",n),fetch(HOST+"/api/"+REGION+"/search/"+n+"/"+r).then((function(e){return e.text()})).then((function(n){var o,r,i,a=JSON.parse(n);for(r=(i=0===(o=function(n){if(n){if(Array.isArray(n))return 0;var o;if(t&&t(n),"object"==typeof n&&"function"==typeof(o=n[e]))return t&&t(void 0),o.call(n);if(t&&t(void 0),n+""=="[object Generator]")return n}throw new Error(n+" is not iterable")}(a)))?a.length:void 0;i?o<r:!(r=o.next()).done;)!function(e){var t,n=createThumbs(e.videoThumbnails),o=T.RESULT.replace("{{title}}",e.title).replace("{{preview-set}}",n.slice(0,-1)).replace("{{preview-desc}}",e.description).replace("{{duration}}",moment.duration(1e3*e.lengthSeconds).humanize()).replace("{{duration-detailed}}",(t=moment.utc(moment.duration(e.lengthSeconds,"seconds").asMilliseconds()).format("HH:mm:ss"),t.startsWith("00:")&&(t=t.slice(3)),t.startsWith("0")&&(t=t.slice(1)),t)).replace("{{video}}",e.videoId).replace("{{author}}",e.author).replace("{{authorid}}",e.authorId).replace("{{views}}",numeral(e.viewCount||0).format("0.a"));$("#results-inner").insertAdjacentHTML("beforeend",o),lazyload($$("figure>img"))}(i?a[o++]:r.value);o=r=i=void 0,document.getElementById("results").setAttribute("search-active",!1)}))}};var n=document.getElementById("search-input");getL(),autocomplete({input:n,showOnFocus:!0,minLength:1,className:"live-search backdrop-blur",debounceWaitMs:299,fetch:function(n,o){var r=n.toLowerCase();r&&fetch(HOST+"/api/"+REGION+"/complete/"+r).then((function(e){return e.text()})).then((function(r){var i=JSON.parse(r);if(200===i.code){var a=[],s=[];a=[n].concat(function(n,o){if(n){if(Array.isArray(n))return o?n.slice():n;var r,i;if(t&&t(n),"object"==typeof n&&"function"==typeof(o=n[e])?(r=o.call(n),i=[]):n+""=="[object Generator]"&&(r=n,i=[]),t&&t(void 0),i){for(;!0!==(o=r.next()).done;)i.push(o.value);return i}}throw new Error(n+" is not iterable")}(i.data.filter((function(e){return e.length})))),(a=Object.values(Object.fromEntries(a.map((function(e){return[e.toLowerCase(),e]}))))).forEach((function(e){s.push({label:e,value:e})})),o(s)}else 404===i.code&&o([{label:n,value:n.toLowerCase()}])}))},onSelect:function(e){SEARCH(e.label)}});$("#search-input").addEventListener("focus",(function(){"xs"===getSize()&&($("#search").style.setProperty("margin-left",0,"important"),$("#dynamic-logo").style.setProperty("display","none","important"),$("#search").classList.add("col-11"),$("#search-btn").classList.add("d-none"),$("#search-input").classList.add("rounded"))})),$("#search-input").addEventListener("blur",(function(){"xs"===getSize()&&($("#search").style.setProperty("margin-left",""),$("#dynamic-logo").style.setProperty("display",""),$("#search").classList.remove("col-11"),$("#search-btn").classList.remove("d-none"),$("#search-input").classList.remove("rounded"))}))};debounce=window.debounce;var initBg=window.initBg,define=($=document.querySelector.bind(document),$$=document.querySelectorAll.bind(document),window.define),SimplexNoise=window.SimplexNoise;!function(){var e=.5*(Math.sqrt(3)-1),t=(3-Math.sqrt(3))/6,n=1/6,o=(Math.sqrt(5)-1)/4,r=(5-Math.sqrt(5))/20;function i(e){e||(e=Math.random),this.p=a(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var t=0;t<512;t++)this.perm[t]=this.p[255&t],this.permMod12[t]=this.perm[t]%12}function a(e){var t,n=new Uint8Array(256);for(t=0;t<256;t++)n[t]=t;for(t=0;t<255;t++){var o=t+~~(e()*(256-t)),r=n[t];n[t]=n[o],n[o]=r}return n}i.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(n,o){var r,i,a=this.permMod12,s=this.perm,l=this.grad3,c=0,d=0,u=0,f=(n+o)*e,m=Math.floor(n+f),w=Math.floor(o+f),h=(m+w)*t,p=n-(m-h),g=o-(w-h);p>g?(r=1,i=0):(r=0,i=1);var v=p-r+t,y=g-i+t,b=p-1+2*t,S=g-1+2*t,E=255&m,T=255&w,$=.5-p*p-g*g;if($>=0){var L=3*a[E+s[T]];c=($*=$)*$*(l[L]*p+l[L+1]*g)}var A=.5-v*v-y*y;if(A>=0){var O=3*a[E+r+s[T+i]];d=(A*=A)*A*(l[O]*v+l[O+1]*y)}var R=.5-b*b-S*S;if(R>=0){var _=3*a[E+1+s[T+1]];u=(R*=R)*R*(l[_]*b+l[_+1]*S)}return 70*(c+d+u)},noise3D:function(e,t,o){var r,i,a,s,l,c,d,u,f,m,w=this.permMod12,h=this.perm,p=this.grad3,g=(e+t+o)*(1/3),v=Math.floor(e+g),y=Math.floor(t+g),b=Math.floor(o+g),S=(v+y+b)*n,E=e-(v-S),T=t-(y-S),$=o-(b-S);E>=T?T>=$?(l=1,c=0,d=0,u=1,f=1,m=0):E>=$?(l=1,c=0,d=0,u=1,f=0,m=1):(l=0,c=0,d=1,u=1,f=0,m=1):T<$?(l=0,c=0,d=1,u=0,f=1,m=1):E<$?(l=0,c=1,d=0,u=0,f=1,m=1):(l=0,c=1,d=0,u=1,f=1,m=0);var L=E-l+n,A=T-c+n,O=$-d+n,R=E-u+2*n,_=T-f+2*n,I=$-m+2*n,M=E-1+.5,x=T-1+.5,H=$-1+.5,C=255&v,N=255&y,P=255&b,F=.6-E*E-T*T-$*$;if(F<0)r=0;else{var D=3*w[C+h[N+h[P]]];r=(F*=F)*F*(p[D]*E+p[D+1]*T+p[D+2]*$)}var U=.6-L*L-A*A-O*O;if(U<0)i=0;else{var q=3*w[C+l+h[N+c+h[P+d]]];i=(U*=U)*U*(p[q]*L+p[q+1]*A+p[q+2]*O)}var j=.6-R*R-_*_-I*I;if(j<0)a=0;else{var z=3*w[C+u+h[N+f+h[P+m]]];a=(j*=j)*j*(p[z]*R+p[z+1]*_+p[z+2]*I)}var k=.6-M*M-x*x-H*H;if(k<0)s=0;else{var G=3*w[C+1+h[N+1+h[P+1]]];s=(k*=k)*k*(p[G]*M+p[G+1]*x+p[G+2]*H)}return 32*(r+i+a+s)},noise4D:function(e,t,n,i){this.permMod12;var a,s,l,c,d,u,f,m,w,h,p,g,v,y,b,S,E,T=this.perm,$=this.grad4,L=(e+t+n+i)*o,A=Math.floor(e+L),O=Math.floor(t+L),R=Math.floor(n+L),_=Math.floor(i+L),I=(A+O+R+_)*r,M=e-(A-I),x=t-(O-I),H=n-(R-I),C=i-(_-I),N=0,P=0,F=0,D=0;M>x?N++:P++,M>H?N++:F++,M>C?N++:D++,x>H?P++:F++,x>C?P++:D++,H>C?F++:D++;var U=M-(u=N>=3?1:0)+r,q=x-(f=P>=3?1:0)+r,j=H-(m=F>=3?1:0)+r,z=C-(w=D>=3?1:0)+r,k=M-(h=N>=2?1:0)+2*r,G=x-(p=P>=2?1:0)+2*r,B=H-(g=F>=2?1:0)+2*r,V=C-(v=D>=2?1:0)+2*r,W=M-(y=N>=1?1:0)+3*r,K=x-(b=P>=1?1:0)+3*r,Y=H-(S=F>=1?1:0)+3*r,J=C-(E=D>=1?1:0)+3*r,Z=M-1+4*r,Q=x-1+4*r,X=H-1+4*r,ee=C-1+4*r,te=255&A,ne=255&O,oe=255&R,re=255&_,ie=.6-M*M-x*x-H*H-C*C;if(ie<0)a=0;else{var ae=T[te+T[ne+T[oe+T[re]]]]%32*4;a=(ie*=ie)*ie*($[ae]*M+$[ae+1]*x+$[ae+2]*H+$[ae+3]*C)}var se=.6-U*U-q*q-j*j-z*z;if(se<0)s=0;else{var le=T[te+u+T[ne+f+T[oe+m+T[re+w]]]]%32*4;s=(se*=se)*se*($[le]*U+$[le+1]*q+$[le+2]*j+$[le+3]*z)}var ce=.6-k*k-G*G-B*B-V*V;if(ce<0)l=0;else{var de=T[te+h+T[ne+p+T[oe+g+T[re+v]]]]%32*4;l=(ce*=ce)*ce*($[de]*k+$[de+1]*G+$[de+2]*B+$[de+3]*V)}var ue=.6-W*W-K*K-Y*Y-J*J;if(ue<0)c=0;else{var fe=T[te+y+T[ne+b+T[oe+S+T[re+E]]]]%32*4;c=(ue*=ue)*ue*($[fe]*W+$[fe+1]*K+$[fe+2]*Y+$[fe+3]*J)}var me=.6-Z*Z-Q*Q-X*X-ee*ee;if(me<0)d=0;else{var we=T[te+1+T[ne+1+T[oe+1+T[re+1]]]]%32*4;d=(me*=me)*me*($[we]*Z+$[we+1]*Q+$[we+2]*X+$[we+3]*ee)}return 27*(a+s+l+c+d)}},i._buildPermutationTable=a,void 0!==define&&define.amd&&define((function(){return i})),"undefined"!=typeof exports?exports.SimplexNoise=i:"undefined"!=typeof window&&(window.SimplexNoise=i),"undefined"!=typeof module&&(module.exports=i)}(),initBg=function(){var e,t,n,o,r,i,a={},s=function(){"use strict";(e={}).__proto__={a:n={}},e.a;var e,n,o=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s={};function l(e,t,n){this.x=e,this.y=t,this.R=n}return o(l,"prototype",{configurable:!1,enumerable:!1,writable:!1}),s.draw=function(){t.save();var e="rgb(21, 21, "+Math.round(42*(i.noise2D(this.x/a.noiseZoom,this.y/a.noiseZoom)+1))+")";t.fillStyle=e,t.strokeStyle=e,t.translate(this.x,this.y),t.beginPath();for(var n=0;n<6;n++){var o=Math.PI/3*n+Math.PI/6,r=Math.cos(o)*this.R,s=Math.sin(o)*this.R;t.lineTo(r,s)}t.closePath(),t.stroke(),t.fill(),t.restore()},function(e,t){for(var n in t)t.hasOwnProperty(n)&&o(e,n,r(t,n))}(l.prototype,s),s=void 0,l}();function l(){n=e.width=window.innerWidth,o=e.height=window.innerHeight,t.lineCap="round",t.lineJoin="round",c()}function c(){i=new SimplexNoise,t.lineWidth=1,a.noiseZoom=400*Math.random()+200,a.size=19*Math.random()+16,function(){r=[];for(var e=a.size,t=e/Math.cos(Math.PI/6),i=2*e/Math.sqrt(3),l=n/(2*e)+1,c=o/t,d=0;d<l;d++)for(var u=0;u<c;u++){var f=new s(e*d*2+(u%2==0?e:0),(i/2+t)*u,t);r.push(f)}}(),t.fillStyle="black",t.fillRect(0,0,n,o),r.forEach((function(e){e.draw()}))}e=document.querySelector("#canvas"),t=e.getContext("2d"),window.addEventListener("resize",debounce(l,999)),e.addEventListener("click",c),l()},window.load=function(){return setTimeout((function(){$("diamond").setAttribute("style",""),$("#wrap")&&$("#wrap").setAttribute("style","display:none;"),initBg()}),999)},window.done=function(){return setTimeout((function(){$("diamond").setAttribute("style","display:none;"),$("#wrap")&&$("#wrap").setAttribute("style","")}),999)};$=document.querySelector.bind(document),$$=document.querySelectorAll.bind(document);location.hash="",console.log("%c Welcome to lapisTube ðŸ™ƒ","background: blue;");autocomplete=window.autocomplete,alert=window.alert,debounce=window.debounce,done=window.done,fetch=window.fetch,getL=window.getL,getSize=window.getSize,initBg=window.initBg,load=window.load,lazyload=window.lazyload,moment=window.moment,numeral=window.numeral,SEARCH=window.SEARCH,setupSearch=window.setupSearch,T=window.T,waitForElement=window.waitForElement;var API=window.API,GEO=window.GEO,lscache=(HOST=window.HOST,REGION=window.REGION,window.lscache);"gtranslate.io"!==!location.host&&!location.host.endsWith("glitch.me")&&window.self===window.top&&3===location.hostname.split(".").length&&(location.hostname.split("."),getL()[location.replace(location.protocol+"//"+location.hostname.split(".").splice(1).join("."))]),window.onresize=debounce((function(){$("body").setAttribute("size",getSize())}),999),HOST=location.protocol+"//"+(location.host.endsWith("glitch.me")?location.hostname:"gtranslate.io"===location.hostname?location.href.split("/edit/")[1]:getL()+"."+location.hostname),API="//"+location.hostname+"/api",document.addEventListener("click",(function(e){var t=$("#toggle-left");if(!t||t&&!t.contains(e.target))return e.preventDefault(),!1;var n=$("#left");n.attr("expanded","false"===n.attr("expanded")?"true":"false"),setTimeout((function(){"false"===n.attr("expanded")?n.classList.add("d-none"):n.classList.remove("d-none")}),199)})),console.log("Client starting up");var tr=HOST+"/html";if(lscache.get("cookie-accepted")){var T$0=window.T={};Promise.all([tr+"/app.html",API+"/geoip",tr+"/channel.html",tr+"/player.html",tr+"/player-inside.html",tr+"/result-item.html",tr+"/result-list.html"].map((function(e){return fetch(e).then((function(e){return e.text()}))}))).then((function(e){T$0.HOME=e[0],GEO=JSON.parse(e[1]),REGION=GEO.country_code.toLowerCase(),console.debug("Your Geo Information by Maxmind: ",GEO),console.debug("Your browser language: ",getL()),T$0.CHANNEL=e[2],T$0.PLAYER=e[3],T$0.PLAYER_INSIDE=e[4],T$0.RESULT=e[5],T$0.RESULTS=e[6],setupClient()})).catch((function(e){console.warn(e),alert("WEBSITE FAILED LOADING. PRESS OK TO TRY AGAIN!"),setTimeout((function(){location.reload(!0)}))}))}else fetch(tr+"/cookie.html").then((function(e){return e.text()})).then((function(e){$("gtranslate").outerHTML=e,done()}));var demo=function(){var e="New americana";$("#top").value=e,SEARCH(e);var t=".card[data-video=b-eYbUVZedY]";setTimeout((function(){return waitForElement(t).then((function(){$(t).click()}))}),999)};window.onhashchange=function(){var e=HOST+"/html";switch(location.hash){case"#cookie-what?":case"#what?":fetch(e+"/what.html").then((function(e){return e.text()})).then((function(e){$("[pop]").outerHTML=e,done()}))}switch(location.hash){case"#cookie":fetch(e+"/cookie.html").then((function(e){return e.text()})).then((function(e){$("[pop]").outerHTML=e,done()}))}},document.addEventListener("click",(function(e){var t=$("#usage-accept");if(!t||t&&!t.contains(e.target))return e.preventDefault(),!1;lscache.set("cookie-accepted",!0,44640),location.reload(!0)}));var setupClient=function(){$("gtranslate").outerHTML=T.HOME,initBg(),waitForElement("#view").then((function(e){var t,n,o,r,i="undefined"!=typeof Symbol&&Symbol&&Symbol.iterator||"@@iterator",a="undefined"!=typeof Symbol&&Symbol&&Symbol.__setObjectSetter__;for(moment.locale(getL()),setupSearch(),$("#yt-lang").innerText=getL(),n=(o=0===(t=function(e){if(e){if(Array.isArray(e))return 0;var t;if(a&&a(e),"object"==typeof e&&"function"==typeof(t=e[i]))return a&&a(void 0),t.call(e);if(a&&a(void 0),e+""=="[object Generator]")return e}throw new Error(e+" is not iterable")}(r=$$("#dynamic-logo .alpha-target"))))?r.length:void 0;o?t<n:!(n=t.next()).done;)(o?r[t++]:n.value).src="https://raw.githubusercontent.com/legacy-icons/famfamfam-flags/master/dist/png/"+GEO.country_code.toLowerCase()+".png";t=n=o=r=void 0,$("#dynamic-logo").setAttribute("title","Region: "+GEO.country),$("#yt-lang").setAttribute("title","App language: "+getL()),waitForElement("#results").then(demo),done(),console.log("Client done")}))};